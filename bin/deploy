#!/usr/bin/env node

var fs = require('fs')
  , ini = require('ini');
  , sep = require('path').sep;


/**
 * 
 * Deply Script uses the same credetials file as the AWS command line tool.
 * 
 * Credentials from any or all your aws IAM users.
 * 
 * eg. 
 * 
 * cat $HOME/.aws/credentials
 * 
 * [username1]
 * aws_access_key_id = XXXXXXXXXXXXXXXXXX
 * aws_secret_access_key = xxxxxxxxxxxxxx
 * 
 * [username2]
 * aws_access_key_id = XXXXXXXXXXXXXXXXXX
 * aws_secret_access_key = xxxxxxxxxxxxxx 
 * 
 */

var home = process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'];
var credfile = process.env.HOME + sep + '.aws' + sep + 'credentials';
var awscreds = ini.parse(fs.readFileSync(credfile).toString());


console.log(awscreds);

