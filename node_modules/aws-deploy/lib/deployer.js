module.exports = Deployer;

var Promise = require('bluebird'); // available from parent's modules
var ApiGatewayApi = require('./aws/api_gateway_api');


function Deployer(config, api) {

  var apigw = new ApiGatewayApi(config);

  return new Promise(function(resolve, reject) {

    /*
     * 1. Get the list of APIs to determine if the api being deployed
     *    already exists.
     */

    apigw.getRestApis().then(function(APIs) {

      console.log('APIS', JSON.stringify(APIs, null, 2));

    })

    .then(resolve)

    .catch(reject)

  });
  
}
