module.exports = AwsDeploy;

module.exports.Lambda = require('./lib/lambda');

require('./_extends');

var ApiTree = require('./lib/api_tree');
var Deployer = require('./lib/deployer');


/**
 * ### .AwsConfig()
 *
 * Configuration object for AwsDeploy
 *
 * @api private
 *
 */

function AwsConfig() {
  this.aws_account = '';
  this.aws_region = '';
  this.aws_access_key_id = '';
  this.aws_secret_access_key = '';
  this.deploy_stage = '';
}


/**
 * ### .AwsDeploy(opts)
 *
 * @api public
 * @param {AwsConfig} config
 * @param {ApiTree} apiTree
 * @param {ApiTree} deployRecord
 * @returns {Promise}
 *
 */

function AwsDeploy(config, apiTree, deployRecord) {

  return Deployer(config, new ApiTree(config, apiTree, deployRecord));

}
